
<div id="write-panel" class="removed">
  <nav>
    <text class="highlight">write</text>
    <clicky onclick="switchPanel('posts-panel')">read</clicky>
    <clicky class="message-panel-title" onclick="switchPanel('inbox-panel')">messages</clicky>
    <br><br>
  </nav>

  <div id="post-preview">
    <% if (pending) { %>
      <text id="pending-status">your pending post for tomorrow:</text>
      <br>
      <div id="pending-post" class="post">
        <%- pending %>
      </div>
      <button type="button" id='write-post-button' onclick="showWriter('post')" >edit post</button>
      <% } else { %>
        <text id="pending-status">no pending post</text>
        <br>
        <div id="pending-post" class="post removed"></div>
        <button type="button" id='write-post-button' onclick="showWriter('post')">new post</button>
    <% } %>
  </div>

  <div id="post-writer" class="removed">
    <postNav><clicky onclick="hideWriter('post')">◀</clicky></postNav>
    <br>
    <%- include("editorButtons", {kind: "post"}) %>
    <textarea id="postEditor" class="editor" autocomplete="off"><% if (pending) { %><%- pendingWriter %><% } %></textarea>
      <!-- that^ HAS to be all on one line like that...*grumbles* -->
    <br>
    <button onclick="submitPost()" >schlaubmit</button>
    <% if (pending) { %>
      <button id='delete-pending-post' onclick="submitPost(true)" >delete</button>
    <% } else { %>
      <button id='delete-pending-post' class="removed" onclick="submitPost(true)" >delete</button>
    <% } %>
  </div>
</div>

<div id="posts-panel">
  <nav>
    <clicky onclick="switchPanel('write-panel')">write</clicky>
    <text class="highlight">read</text>
    <clicky class="message-panel-title" onclick="switchPanel('inbox-panel')">messages</clicky>
    <br><br>
  </nav>

  <postNav>
    <text id="date-display"></text>
    <br>
    <clicky onclick="changeDay(1)">◀</clicky>
    <clicky id="day-forward" class="hidden" onclick="changeDay(-1)">▶</clicky>
  </postNav>
  <div id="posts">
    <text id="loading" class="removed">***loading the day***</text>
  </div>
</div>

<div id="inbox-panel" class="removed">
  <nav>
    <clicky onclick="switchPanel('write-panel')">write</clicky>
    <clicky onclick="switchPanel('posts-panel')">read</clicky>
    <text class="message-panel-title highlight">messages</text>
  </nav>
  <br>
  <br>
  <postNav id="thread-title-area">
    <clicky id="back-arrow" class="removed" onclick="closeThread()">◀</clicky>
    <br><br>
    <text id="thread-title"></text>
  </postNav>
  <br>
  <clicky id="mark-unread" class="special removed" onclick="markUnread()">(mark unread)</clicky>
  <div id="thread-list"></div>
  <br><br>
  <div id="message-preview" class="removed">
    <p id="pending-message-status"></p>
    <div id="pending-message" class="message removed"></div>
    <button type="button" id='write-message-button' onclick="showWriter('message')" ></button>
  </div>
  <div id="message-writer" class="removed">
    <%- include("editorButtons", {kind: "message"}) %>
    <textarea id="messageEditor" autocomplete="off" class="editor"></textarea>
    <br>
    <button onclick="submitMessage()">schend</button>
    <button id='delete-message' onclick="submitMessage(true)">delete</button>
  </div>
  <br>
  <div id="thread-box"></div>

</div>


<script type="text/javascript">
  changeDay(1);
  fetchData();
  $('pending-post').innerHTML = pool.checkForCuts($('pending-post').innerHTML, 'pending');
</script>
